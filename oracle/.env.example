# Oracle Backend Environment Configuration (2026)
# =========================================================
# Copy this file to .env and fill in your values
# CRITICAL: Never commit .env to version control!

# =====================
# ENVIRONMENT SELECTION
# =====================
# Options: development | staging | production
# - development: Debug enabled, relaxed security, dev defaults
# - staging: Production-like but with more logging
# - production: Strict security, optimized settings
DEPLOYMENT_ENVIRONMENT=development

# =====================
# SERVICE CONFIGURATION
# =====================
DEBUG=true                    # Set to false in production (auto-disabled if DEPLOYMENT_ENVIRONMENT=production)
LOG_LEVEL=INFO                # DEBUG | INFO | WARNING | ERROR
PORT=8000

# =====================
# DATABASE (PostgreSQL)
# =====================
# IMPORTANT: Only PostgreSQL is supported (no SQLite)
# The driver will be auto-converted to asyncpg if needed
DATABASE_URL=postgresql://oracle:your_password_here@db:5432/cardea_oracle

# For production, use secure credentials:
# DATABASE_URL=postgresql://oracle:STRONG_PASSWORD@your-postgres-host:5432/cardea_oracle

# =====================
# REDIS CACHE
# =====================
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis

# =====================
# SECURITY
# =====================
# CRITICAL: Generate a unique key for production!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=generate_a_secure_random_string_here
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Sentry Integration Token
SENTRY_WEBHOOK_TOKEN=your_secure_webhook_token

# CORS Configuration (comma-separated origins)
# Use specific origins in production: CORS_ORIGINS=https://your-dashboard.com,https://admin.your-domain.com
CORS_ORIGINS=*

# =====================
# ALERT PROCESSING
# =====================
MAX_ALERTS_PER_BATCH=100
ALERT_RETENTION_DAYS=90
THREAT_SCORE_THRESHOLD=0.7
CORRELATION_WINDOW_MINUTES=60

# =====================
# AZURE OPENAI (AI Analysis)
# =====================
# Get keys from: az cognitiveservices account keys list --name <service-name> --resource-group <rg>
AZURE_OPENAI_API_KEY=PASTE_YOUR_KEY_HERE
AZURE_OPENAI_ENDPOINT=https://your-service.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4o          # Must match your Azure deployment name
AZURE_OPENAI_API_VERSION=2024-10-21     # Latest stable version

# AI Agent Behavior
AI_ENABLED=true                          # Set to false to use deterministic analysis only
AI_MODEL_TEMPERATURE=0.3                 # Lower = more deterministic (0.0-2.0)
AI_MAX_TOKENS=150                        # Keep low to control costs

# =====================
# AZURE AI SEARCH (RAG)
# =====================
AZURE_SEARCH_ENDPOINT=https://your-search.search.windows.net
AZURE_SEARCH_KEY=PASTE_SEARCH_ADMIN_KEY_HERE
AZURE_SEARCH_INDEX_NAME=threat-intelligence

# =====================
# CLOUD PROVIDER
# =====================
CLOUD_PROVIDER=azure